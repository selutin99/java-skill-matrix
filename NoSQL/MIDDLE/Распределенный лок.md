# –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ª–æ–∫, –¥–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ª–æ–∫

* **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ª–æ–∫ (distributed lock)** ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ **—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ**, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **—ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É** –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —É–∑–ª–∞–º/–ø—Ä–æ—Ü–µ—Å—Å–∞–º.
* –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö –ª–æ–∫–æ–≤ (mutex, synchronized), –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤—É—é—Ç **–≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–ª–∏ –º–∞—à–∏–Ω—ã**, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ª–æ–∫ –Ω—É–∂–µ–Ω, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö.

---

## 2. –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

1. **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö**

    * –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤ –º–æ–≥—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—ã—Ç–∞—Ç—å—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∑–∞–ø–∏—Å—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞).
    * –õ–æ–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º.

2. **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á**

    * –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏ (cron) –≤ —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –Ω–µ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∑–∞–¥–∞—á—É –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
    * –ü—Ä–∏–º–µ—Ä: —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä —Å–µ—Ä–≤–∏—Å–∞ –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á—ë—Ç—ã.

3. **–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π**

    * –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∑–∞–∫–∞–∑–æ–≤, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ä–µ–¥–µ**

    * –ö–æ–≥–¥–∞ –Ω–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ª–æ–∫ –ø–æ–º–æ–≥–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø.

5. **–†–∞–±–æ—Ç–∞ —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤–Ω–µ –±–∞–∑—ã**

    * –§–∞–π–ª—ã, –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π, –≤–Ω–µ—à–Ω–∏–µ API.

---

## 3. –ö–∞–∫ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ª–æ–∫

1. **Redis (Redlock, setnx + expire)**

    * –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞ —Å TTL (–∏—Å—Ç–µ—á–µ–Ω–∏–µ–º).
    * –ï—Å–ª–∏ –∫–ª—é—á –µ—Å—Ç—å ‚Üí —Ä–µ—Å—É—Ä—Å –∑–∞–Ω—è—Ç.
    * –ï—Å–ª–∏ –∫–ª—é—á –∏—Å—Ç—ë–∫ ‚Üí –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –ª–æ–∫.
    * –ü–æ–ø—É–ª—è—Ä–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º ‚Äî **Redlock** –æ—Ç Redis.

2. **ZooKeeper**

    * –•—Ä–∞–Ω–µ–Ω–∏–µ ¬´—ç–øhemeral nodes¬ª (—É–∑–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞).
    * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Hadoop, Kafka.

3. **Etcd / Consul**

    * –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —á–µ—Ä–µ–∑ API KV-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
    * –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ Kubernetes (leader election).

---

## 4. –í—ã–∂–∏–º–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

* **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ª–æ–∫** –Ω—É–∂–µ–Ω –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—â–µ–º—É —Ä–µ—Å—É—Ä—Å—É –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

    * –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö,
    * –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ,
    * –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π,
    * –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.
* –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏: Redis (Redlock), ZooKeeper, Etcd, Consul.

üëâ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Ö–æ—Ä–æ—à–æ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ª–æ–∫ ‚Äî —ç—Ç–æ **–∞–Ω–∞–ª–æ–≥ mutex, –Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã**.
