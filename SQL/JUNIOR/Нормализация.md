# Что такое нормализация и для чего она применяется

## 1. Что такое нормализация

**Нормализация** — это процесс организации структуры базы данных так, чтобы **устранить избыточность данных** и **повысить целостность** (согласованность) информации.
Идея в том, чтобы разбить данные на логические таблицы и правильно определить связи между ними.

---

## 2. Зачем нужна нормализация

1. **Уменьшение дублирования**

    * Избавляемся от повторяющихся данных.
    * Пример: вместо хранения адреса клиента в каждой строке заказа — вынести адрес в таблицу `Customers`.

2. **Поддержка целостности данных**

    * Если информация хранится в одном месте, её проще обновлять и гарантировать актуальность.

3. **Гибкость структуры**

    * Легче расширять схему (например, добавить новые свойства без дублирования).

4. **Экономия места**

    * Меньше хранения лишних копий информации.

---

## 3. Нормальные формы (NF)

Существует несколько уровней нормализации, называемых **нормальными формами**:

1. **Первая нормальная форма (1NF)**

    * Каждое поле атомарно (нельзя хранить массивы или повторяющиеся значения в одной ячейке).
    * Пример ❌: `phones = "111-222, 333-444"`
    * Пример ✅: вынос телефонов в отдельную таблицу `UserPhones(user_id, phone)`.

2. **Вторая нормальная форма (2NF)**

    * Таблица уже в 1NF.
    * Все неключевые поля зависят **от всего первичного ключа**, а не только от его части (актуально при составных PK).

3. **Третья нормальная форма (3NF)**

    * Таблица уже в 2NF.
    * Неключевые атрибуты зависят только от PK, а не от других неключевых полей.
    * Пример ❌: в заказах хранить `city` и `zipcode`, где `zipcode` → `city`.
    * Решение ✅: вынести `zipcode` в отдельную таблицу.

4. **Бойс-Кодд нормальная форма (BCNF)**

    * Усиление 3NF, где **каждая функциональная зависимость** относится к ключам.

(Есть и более высокие формы, но для собеседований чаще спрашивают до 3NF/BCNF.)

---

## 4. Минусы нормализации

* **Сложные JOIN-запросы** (данные разнесены по многим таблицам).
* Иногда **лучше денормализовать** (хранить часть данных дублированно) для ускорения работы аналитических запросов.

---

## 5. Выжимка для собеседования

* **Нормализация** — это разбиение данных по таблицам для устранения дублирования и обеспечения целостности.
* Основные формы:

    * **1NF** — атомарность данных.
    * **2NF** — зависимость от всего PK.
    * **3NF** — отсутствие зависимости от неключевых полей.
* Плюсы: меньше дублирования, консистентность.
* Минус: больше JOIN-ов, иногда нужна денормализация.
