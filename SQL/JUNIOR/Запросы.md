# –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ SQL, –æ—Ç–ª–∏—á–∏–µ where –æ—Ç having, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ join

## 1. –û—Å–Ω–æ–≤—ã SQL-–∑–∞–ø—Ä–æ—Å–∞

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```sql
SELECT —Å—Ç–æ–ª–±—Ü—ã
FROM —Ç–∞–±–ª–∏—Ü–∞
JOIN ... (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
WHERE —É—Å–ª–æ–≤–∏–µ_–¥–ª—è_—Å—Ç—Ä–æ–∫
GROUP BY —Å—Ç–æ–ª–±—Ü—ã
HAVING —É—Å–ª–æ–≤–∏–µ_–¥–ª—è_–≥—Ä—É–ø–ø
ORDER BY —Å—Ç–æ–ª–±—Ü—ã;
```

---

## 2. –û—Ç–ª–∏—á–∏–µ `WHERE` –æ—Ç `HAVING`

### `WHERE`

* –§–∏–ª—å—Ç—Ä—É–µ—Ç **—Å—Ç—Ä–æ–∫–∏ –¥–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏**.
* –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å "—Å—ã—Ä—ã–º–∏" –¥–∞–Ω–Ω—ã–º–∏.
* –í `WHERE` –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`SUM`, `COUNT`, `AVG` –∏ —Ç.–¥.).

**–ü—Ä–∏–º–µ—Ä: –≤—ã–±—Ä–∞—Ç—å –∑–∞–∫–∞–∑—ã –¥–æ—Ä–æ–∂–µ 100:**

```sql
SELECT * 
FROM Orders
WHERE price > 100;
```

---

### `HAVING`

* –§–∏–ª—å—Ç—Ä—É–µ—Ç **—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏** (`GROUP BY`).
* –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

**–ü—Ä–∏–º–µ—Ä: –≤—ã–±—Ä–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö —Å—É–º–º–∞ –∑–∞–∫–∞–∑–æ–≤ > 1000:**

```sql
SELECT user_id, SUM(price) AS total
FROM Orders
GROUP BY user_id
HAVING SUM(price) > 1000;
```

üëâ –¢–æ –µ—Å—Ç—å:

* `WHERE` ‚Üí —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
* `HAVING` ‚Üí —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã

---

## 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `JOIN`

### –í–∏–¥—ã JOIN:

1. **INNER JOIN** ‚Äî –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ (–±–µ—Ä—É—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏).

```sql
SELECT u.name, o.product
FROM Users u
INNER JOIN Orders o ON u.user_id = o.user_id;
```

2. **LEFT JOIN** ‚Äî –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã + —Å–æ–≤–ø–∞–≤—à–∏–µ –∏–∑ –ø—Ä–∞–≤–æ–π (–µ—Å–ª–∏ –Ω–µ—Ç ‚Äî NULL).

```sql
SELECT u.name, o.product
FROM Users u
LEFT JOIN Orders o ON u.user_id = o.user_id;
```

3. **RIGHT JOIN** ‚Äî –Ω–∞–æ–±–æ—Ä–æ—Ç: –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã + —Å–æ–≤–ø–∞–≤—à–∏–µ –∏–∑ –ª–µ–≤–æ–π.

4. **FULL OUTER JOIN** ‚Äî –±–µ—Ä—É—Ç—Å—è –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü (–µ—Å–ª–∏ –Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚Äî NULL).

5. **CROSS JOIN** ‚Äî –¥–µ–∫–∞—Ä—Ç–æ–≤–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (–∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–∑ A √ó –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–∑ B).

---

## 4. –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

**–ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö –±–æ–ª—å—à–µ 2 –∑–∞–∫–∞–∑–æ–≤ –∏ —Å—É–º–º–∞ –∑–∞–∫–∞–∑–æ–≤ > 500:**

```sql
SELECT u.user_id, u.name, COUNT(o.order_id) AS order_count, SUM(o.price) AS total
FROM Users u
JOIN Orders o ON u.user_id = o.user_id
WHERE o.price > 50
GROUP BY u.user_id, u.name
HAVING COUNT(o.order_id) > 2 AND SUM(o.price) > 500
ORDER BY total DESC;
```

–ó–¥–µ—Å—å:

* `WHERE o.price > 50` ‚Äî –∏—Å–∫–ª—é—á–∞–µ–º –¥–µ—à—ë–≤—ã–µ –∑–∞–∫–∞–∑—ã.
* `GROUP BY u.user_id, u.name` ‚Äî –≥—Ä—É–ø–ø–∏—Ä—É–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
* `HAVING` ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ–º –≥—Ä—É–ø–ø—ã (—Ç–æ–ª—å–∫–æ —Ç–µ, —É –∫–æ–≥–æ –±–æ–ª—å—à–µ 2 –∑–∞–∫–∞–∑–æ–≤ –∏ —Å—É–º–º–∞ > 500).

---

## 5. –í—ã–∂–∏–º–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

* `WHERE` ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ **–¥–æ** –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏, –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è.
* `HAVING` ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç **–ø–æ—Å–ª–µ** –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç—ã.
* `JOIN`:

    * **INNER** ‚Äî —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è.
    * **LEFT / RIGHT** ‚Äî –±–µ—Ä—ë–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã + —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏–∑ –¥—Ä—É–≥–æ–π.
    * **FULL** ‚Äî –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–±–µ–∏—Ö.
    * **CROSS** ‚Äî –¥–µ–∫–∞—Ä—Ç–æ–≤–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ.
